/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var to_urban = 
    /* color: #d63000 */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-74.64943331013512, -11.47930434061534],
                  [-74.52583711872887, -11.447002798997197],
                  [-74.59999483357262, -11.4173898125842],
                  [-74.65217989216637, -11.39585115315023]]]),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-75.22472950014838, -12.061066796830868],
                  [-75.224300346706, -12.057373586757844],
                  [-75.2268752673603, -12.059304134731091]]]),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00304872051869, 5.746432434118552],
                  [-73.00304872051869, 5.745962737399681],
                  [-73.00296288983021, 5.745962737399681],
                  [-73.00296288983021, 5.746432434118552]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00382119671498, 5.74549304029338],
                  [-73.00382119671498, 5.7451087423727785],
                  [-73.00356370464955, 5.7451087423727785],
                  [-73.00356370464955, 5.74549304029338]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00201875225697, 5.745834638227304],
                  [-73.00201875225697, 5.74574923876304],
                  [-73.0017183448473, 5.74574923876304],
                  [-73.0017183448473, 5.745834638227304]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00038796917592, 5.7450660425878235],
                  [-73.00038796917592, 5.744639044562112],
                  [-73.00030213848744, 5.744639044562112],
                  [-73.00030213848744, 5.7450660425878235]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.99862844006215, 5.746090836543254],
                  [-72.99862844006215, 5.746005437117412],
                  [-72.99837094799672, 5.746005437117412],
                  [-72.99837094799672, 5.746090836543254]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.99987298504506, 5.74839661619885],
                  [-72.99987298504506, 5.748140418920562],
                  [-72.99978715435658, 5.748140418920562],
                  [-72.99978715435658, 5.74839661619885]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.99897176281605, 5.7450660425878235],
                  [-72.99897176281605, 5.744937943213722],
                  [-72.99888593212758, 5.744937943213722],
                  [-72.99888593212758, 5.7450660425878235]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00255519405995, 5.746944830097204],
                  [-73.00255519405995, 5.746475133801054],
                  [-73.00208312527333, 5.746475133801054],
                  [-73.00208312527333, 5.746944830097204]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00274831310902, 5.745599789669733],
                  [-73.00274831310902, 5.745428990657963],
                  [-73.00206166760121, 5.745428990657963],
                  [-73.00206166760121, 5.745599789669733]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00090295330678, 5.7452581915949485],
                  [-73.00090295330678, 5.745172792044224],
                  [-73.00077420727406, 5.745172792044224],
                  [-73.00077420727406, 5.7452581915949485]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00113898770009, 5.7462829852045765],
                  [-73.00113898770009, 5.746176235956286],
                  [-73.00107461468373, 5.746176235956286],
                  [-73.00107461468373, 5.7462829852045765]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00223332897816, 5.748247167800519],
                  [-73.00223332897816, 5.74792692110056],
                  [-73.00214749828969, 5.74792692110056],
                  [-73.00214749828969, 5.748247167800519]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.99974423901234, 5.748460665500398],
                  [-72.99974423901234, 5.748375266430063],
                  [-72.99963695065175, 5.748375266430063],
                  [-72.99963695065175, 5.748460665500398]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.00006610409413, 5.748225818026135],
                  [-73.00006610409413, 5.748161768698151],
                  [-73.00000173107777, 5.748161768698151],
                  [-73.00000173107777, 5.748225818026135]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.99875718609486, 5.745300891365502],
                  [-72.99875718609486, 5.7451087423727785],
                  [-72.99828511730824, 5.7451087423727785],
                  [-72.99828511730824, 5.745300891365502]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.001482310454, 5.745023342799663],
                  [-73.001482310454, 5.744873893515866],
                  [-73.00124627606068, 5.744873893515866],
                  [-73.00124627606068, 5.745023342799663]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05266590822356, 5.555322688539415],
                  [-73.05266590822356, 5.554852836783172],
                  [-73.05242987383025, 5.554852836783172],
                  [-73.05242987383025, 5.555322688539415]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04991932619231, 5.555344045428521],
                  [-73.04991932619231, 5.55515183339868],
                  [-73.04921122301238, 5.55515183339868],
                  [-73.04921122301238, 5.555344045428521]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05242987383025, 5.556988523564334],
                  [-73.05242987383025, 5.556433245746197],
                  [-73.05167885530608, 5.556433245746197],
                  [-73.05167885530608, 5.556988523564334]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05266590822356, 5.557757368909684],
                  [-73.05266590822356, 5.557031237220972],
                  [-73.05167885530608, 5.557031237220972],
                  [-73.05167885530608, 5.557757368909684]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05240841615813, 5.5593804835639915],
                  [-73.05240841615813, 5.559188272851675],
                  [-73.05223675478118, 5.559188272851675],
                  [-73.05223675478118, 5.5593804835639915]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05238695848601, 5.558568926796203],
                  [-73.05238695848601, 5.558312645479198],
                  [-73.05167885530608, 5.558312645479198],
                  [-73.05167885530608, 5.558568926796203]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05208655107634, 5.558782494475141],
                  [-73.05208655107634, 5.558632997108011],
                  [-73.05189343202727, 5.558632997108011],
                  [-73.05189343202727, 5.558782494475141]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05318089235442, 5.560213395925396],
                  [-73.05318089235442, 5.559999828765613],
                  [-73.05300923097747, 5.559999828765613],
                  [-73.05300923097747, 5.560213395925396]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05290194261687, 5.559850331707645],
                  [-73.05290194261687, 5.559722191342022],
                  [-73.05275173891204, 5.559722191342022],
                  [-73.05275173891204, 5.559850331707645]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05223675478118, 5.560448319711673],
                  [-73.05223675478118, 5.560277466058229],
                  [-73.05193634737151, 5.560277466058229],
                  [-73.05193634737151, 5.560448319711673]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04991932619231, 5.559914401879993],
                  [-73.04991932619231, 5.559828974981969],
                  [-73.04983349550383, 5.559828974981969],
                  [-73.04983349550383, 5.559914401879993]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05052014101165, 5.5593804835639915],
                  [-73.05052014101165, 5.559209629600595],
                  [-73.05034847963469, 5.559209629600595],
                  [-73.05034847963469, 5.5593804835639915]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.0506918023886, 5.558526213251112],
                  [-73.0506918023886, 5.558419429374849],
                  [-73.050584514028, 5.558419429374849],
                  [-73.050584514028, 5.558526213251112]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.0502411912741, 5.558269931915522],
                  [-73.0502411912741, 5.558056364050649],
                  [-73.0500266145529, 5.558056364050649],
                  [-73.0500266145529, 5.558269931915522]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05133553255217, 5.558013650468371],
                  [-73.05133553255217, 5.55752244404955],
                  [-73.05082054842131, 5.55752244404955],
                  [-73.05082054842131, 5.558013650468371]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05047722566741, 5.55587796740454],
                  [-73.05047722566741, 5.5556643986722145],
                  [-73.0500266145529, 5.5556643986722145],
                  [-73.0500266145529, 5.55587796740454]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04946871507781, 5.562103461911465],
                  [-73.04946871507781, 5.561825825480335],
                  [-73.04921122301238, 5.561825825480335],
                  [-73.04921122301238, 5.562103461911465]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04915757883208, 5.561783112171611],
                  [-73.04915757883208, 5.561569545581491],
                  [-73.04894300211089, 5.561569545581491],
                  [-73.04894300211089, 5.561783112171611]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04970474947112, 5.5612491955509595],
                  [-73.04970474947112, 5.5608007052152235],
                  [-73.04951163042205, 5.5608007052152235],
                  [-73.04951163042205, 5.5612491955509595]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05017681825774, 5.561484118923739],
                  [-73.05017681825774, 5.5613773355841],
                  [-73.05004807222502, 5.5613773355841],
                  [-73.05004807222502, 5.561484118923739]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04991932619231, 5.562295671671638],
                  [-73.04991932619231, 5.56190057376315],
                  [-73.0497905801596, 5.56190057376315],
                  [-73.0497905801596, 5.562295671671638]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04933996904509, 5.562765517487724],
                  [-73.04933996904509, 5.562690769314804],
                  [-73.04929705370085, 5.562690769314804],
                  [-73.04929705370085, 5.562765517487724]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04938288438933, 5.559487267265933],
                  [-73.04938288438933, 5.559188272851675],
                  [-73.04927559602874, 5.559188272851675],
                  [-73.04927559602874, 5.559487267265933]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.0497369359793, 5.556956488319819],
                  [-73.0497369359793, 5.556721563140192],
                  [-73.04950090158599, 5.556721563140192],
                  [-73.04950090158599, 5.556956488319819]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05348463766892, 5.5537085836301845],
                  [-73.05348463766892, 5.553238730586759],
                  [-73.05325933211167, 5.553238730586759],
                  [-73.05325933211167, 5.5537085836301845]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05288382284958, 5.553366872363021],
                  [-73.05288382284958, 5.553302801478383],
                  [-73.0527979921611, 5.553302801478383],
                  [-73.0527979921611, 5.553366872363021]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05317350142319, 5.554541504013661],
                  [-73.05317350142319, 5.554274542480498],
                  [-73.05271216147263, 5.554274542480498],
                  [-73.05271216147263, 5.554541504013661]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05293746702988, 5.554776430062775],
                  [-73.05293746702988, 5.5545201470954595],
                  [-73.05276580565292, 5.5545201470954595],
                  [-73.05276580565292, 5.554776430062775]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.0523473810466, 5.556100556951061],
                  [-73.0523473810466, 5.55567341957039],
                  [-73.05220790617783, 5.55567341957039],
                  [-73.05220790617783, 5.556100556951061]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05212207548935, 5.555310352553268],
                  [-73.05212207548935, 5.5551288189607915],
                  [-73.05191822760422, 5.5551288189607915],
                  [-73.05191822760422, 5.555310352553268]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04944012709448, 5.557739210564731],
                  [-73.04944012709448, 5.557589712932699],
                  [-73.04924700804541, 5.557589712932699],
                  [-73.04924700804541, 5.557739210564731]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05025551863501, 5.557248003916962],
                  [-73.05025551863501, 5.556949008365527],
                  [-73.04953668661902, 5.556949008365527],
                  [-73.04953668661902, 5.557248003916962]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05051301070044, 5.5582197384105925],
                  [-73.05051301070044, 5.557600391336236],
                  [-73.05035207815955, 5.557600391336236],
                  [-73.05035207815955, 5.5582197384105925]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05019114561865, 5.559896243601577],
                  [-73.05019114561865, 5.559736068152681],
                  [-73.04982636519263, 5.559736068152681],
                  [-73.04982636519263, 5.559896243601577]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05157516547034, 5.557739210564731],
                  [-73.05157516547034, 5.557322752781106],
                  [-73.05140350409339, 5.557322752781106],
                  [-73.05140350409339, 5.557739210564731]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05075977392981, 5.5609854354979715],
                  [-73.05075977392981, 5.560494231558953],
                  [-73.05031989165137, 5.560494231558953],
                  [-73.05031989165137, 5.5609854354979715]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04912899084876, 5.562021233764598],
                  [-73.04912899084876, 5.561839702241403],
                  [-73.04898951597998, 5.561839702241403],
                  [-73.04898951597998, 5.562021233764598]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.04936502524207, 5.56085729537949],
                  [-73.04936502524207, 5.560793225309785],
                  [-73.04927919455359, 5.560793225309785],
                  [-73.04927919455359, 5.56085729537949]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18384203488172, 5.5636614400079925],
                  [-73.18384203488172, 5.563469230694065],
                  [-73.18349871212781, 5.563469230694065],
                  [-73.18349871212781, 5.5636614400079925]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.1868461089784, 5.564472989752113],
                  [-73.1868461089784, 5.564280780703393],
                  [-73.18654570156873, 5.564280780703393],
                  [-73.18654570156873, 5.564472989752113]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18630966717542, 5.5639177189955324],
                  [-73.18630966717542, 5.563682796594553],
                  [-73.18590197140516, 5.563682796594553],
                  [-73.18590197140516, 5.5639177189955324]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.1847217994386, 5.564173997871408],
                  [-73.1847217994386, 5.5632129515111135],
                  [-73.18450722271741, 5.5632129515111135],
                  [-73.18450722271741, 5.564173997871408]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18442139202894, 5.564216711006525],
                  [-73.18442139202894, 5.564024501874054],
                  [-73.18429264599622, 5.564024501874054],
                  [-73.18429264599622, 5.564216711006525]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18388495022596, 5.563832292678761],
                  [-73.18388495022596, 5.563725509765343],
                  [-73.18375620419324, 5.563725509765343],
                  [-73.18375620419324, 5.563832292678761]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18362745816053, 5.565540816656568],
                  [-73.18362745816053, 5.5648574076611],
                  [-73.1833699660951, 5.5648574076611],
                  [-73.1833699660951, 5.565540816656568]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18309101635755, 5.5641526413026865],
                  [-73.18309101635755, 5.564088571591849],
                  [-73.18296227032484, 5.564088571591849],
                  [-73.18296227032484, 5.5641526413026865]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18339142376722, 5.564771981480825],
                  [-73.18339142376722, 5.564622485635463],
                  [-73.18319830471815, 5.564622485635463],
                  [-73.18319830471815, 5.564771981480825]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18364891583265, 5.56449434630922],
                  [-73.18364891583265, 5.564344850393288],
                  [-73.1834772544557, 5.564344850393288],
                  [-73.1834772544557, 5.56449434630922]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18332705075086, 5.563191594907495],
                  [-73.18332705075086, 5.563106168485255],
                  [-73.1832626777345, 5.563106168485255],
                  [-73.1832626777345, 5.563191594907495]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18369183117689, 5.562593609691363],
                  [-73.18369183117689, 5.562401400028528],
                  [-73.18317684704603, 5.562401400028528],
                  [-73.18317684704603, 5.562593609691363]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "67"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.1843784766847, 5.563106168485255],
                  [-73.1843784766847, 5.5628926023754115],
                  [-73.18405661160291, 5.5628926023754115],
                  [-73.18405661160291, 5.563106168485255]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "68"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18223270947279, 5.563405160908792],
                  [-73.18223270947279, 5.563234308113956],
                  [-73.18143877560438, 5.563234308113956],
                  [-73.18143877560438, 5.563405160908792]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "69"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18253311688245, 5.562059693806194],
                  [-73.18253311688245, 5.561952910571018],
                  [-73.18240437084974, 5.561952910571018],
                  [-73.18240437084974, 5.562059693806194]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "70"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18523678356947, 5.5639177189955324],
                  [-73.18523678356947, 5.5637682229330405],
                  [-73.18508657986463, 5.5637682229330405],
                  [-73.18508657986463, 5.5639177189955324]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "71"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.18497929150404, 5.5636614400079925],
                  [-73.18497929150404, 5.563533300472355],
                  [-73.18480763012708, 5.563533300472355],
                  [-73.18480763012708, 5.5636614400079925]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "72"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.1854942756349, 5.564216711006525],
                  [-73.1854942756349, 5.564003145299899],
                  [-73.1852796989137, 5.564003145299899],
                  [-73.1852796989137, 5.564216711006525]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "73"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92413443185367, 5.7008292840583],
                  [-72.92413443185367, 5.700743877870687],
                  [-72.92398422814884, 5.700743877870687],
                  [-72.92398422814884, 5.7008292840583]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "74"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92379110909977, 5.7015979391748015],
                  [-72.92379110909977, 5.701512533101588],
                  [-72.92370527841129, 5.701512533101588],
                  [-72.92370527841129, 5.7015979391748015]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "75"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92376965142765, 5.699975221610393],
                  [-72.92376965142765, 5.699889815295698],
                  [-72.92368382073917, 5.699889815295698],
                  [-72.92368382073917, 5.699975221610393]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "76"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92353361703434, 5.699975221610393],
                  [-72.92353361703434, 5.699889815295698],
                  [-72.92340487100162, 5.699889815295698],
                  [-72.92340487100162, 5.699975221610393]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "77"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92319029428043, 5.700359549869213],
                  [-72.92319029428043, 5.700103331058583],
                  [-72.92288988687076, 5.700103331058583],
                  [-72.92288988687076, 5.700359549869213]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "78"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92430609323063, 5.697071399783774],
                  [-72.92430609323063, 5.697007344725016],
                  [-72.92417734719791, 5.697007344725016],
                  [-72.92417734719791, 5.697071399783774]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "79"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92374819375553, 5.699719002628217],
                  [-72.92374819375553, 5.699633596275419],
                  [-72.92366236306705, 5.699633596275419],
                  [-72.92366236306705, 5.699719002628217]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "80"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92461140031212, 5.70487489689483],
                  [-72.92461140031212, 5.704437193135305],
                  [-72.9244290100991, 5.704437193135305],
                  [-72.9244290100991, 5.70487489689483]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "81"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.85155992834954, 5.728291521575178],
                  [-72.85155992834954, 5.727608304487292],
                  [-72.85057287543206, 5.727608304487292],
                  [-72.85057287543206, 5.728291521575178]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "82"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.8518388780871, 5.7253024407834285],
                  [-72.8518388780871, 5.724939479908363],
                  [-72.85140972464471, 5.724939479908363],
                  [-72.85140972464471, 5.7253024407834285]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "83"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.85010080664544, 5.724533817481073],
                  [-72.85010080664544, 5.7243630121623905],
                  [-72.84924249976068, 5.7243630121623905],
                  [-72.84924249976068, 5.724533817481073]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "84"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.84939270346551, 5.724234908139885],
                  [-72.84939270346551, 5.724064102731879],
                  [-72.84928541510492, 5.724064102731879],
                  [-72.84928541510492, 5.724234908139885]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "85"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.84917812674432, 5.722590903969466],
                  [-72.84917812674432, 5.722270642866595],
                  [-72.84896355002313, 5.722270642866595],
                  [-72.84896355002313, 5.722590903969466]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "86"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.84965019553094, 5.722057135365035],
                  [-72.84965019553094, 5.721929030825829],
                  [-72.84928541510492, 5.721929030825829],
                  [-72.84928541510492, 5.722057135365035]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "87"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.8497145685473, 5.720989596661453],
                  [-72.8497145685473, 5.720669334661817],
                  [-72.84847002356439, 5.720669334661817],
                  [-72.84847002356439, 5.720989596661453]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "88"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.84885626166253, 5.719922055965203],
                  [-72.84885626166253, 5.719729898428301],
                  [-72.84877043097406, 5.719729898428301],
                  [-72.84877043097406, 5.719922055965203]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "89"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.8485987695971, 5.725046233130897],
                  [-72.8485987695971, 5.724533817481137],
                  [-72.84851293890863, 5.724533817481137],
                  [-72.84851293890863, 5.725046233130897]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "90"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.79869417083107, 5.754973972786153],
                  [-72.79869417083107, 5.754098641729838],
                  [-72.79757837188087, 5.754098641729838],
                  [-72.79757837188087, 5.754973972786153]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "91"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.79742816817604, 5.754440234497523],
                  [-72.79742816817604, 5.754312137233696],
                  [-72.79695609938942, 5.754312137233696],
                  [-72.79695609938942, 5.754440234497523]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "92"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.79740671050392, 5.754098641729838],
                  [-72.79740671050392, 5.75407729217504],
                  [-72.79736379515968, 5.75407729217504],
                  [-72.79736379515968, 5.754098641729838]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "93"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.79961685073219, 5.752753618212359],
                  [-72.79961685073219, 5.752476073281066],
                  [-72.79946664702736, 5.752476073281066],
                  [-72.79946664702736, 5.752753618212359]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "94"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.79817918670021, 5.752476073281066],
                  [-72.79817918670021, 5.751856934100141],
                  [-72.79800752532326, 5.751856934100141],
                  [-72.79800752532326, 5.752476073281066]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "95"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.79873708617531, 5.752219877839676],
                  [-72.79873708617531, 5.7515580390819325],
                  [-72.7982864750608, 5.7515580390819325],
                  [-72.7982864750608, 5.752219877839676]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "96"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.80092576873146, 5.752774967816849],
                  [-72.80092576873146, 5.7515580390819325],
                  [-72.79991725814186, 5.7515580390819325],
                  [-72.79991725814186, 5.752774967816849]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "97"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.80058244597755, 5.75495262326423],
                  [-72.80058244597755, 5.754845875642589],
                  [-72.79993871581398, 5.754845875642589],
                  [-72.79993871581398, 5.75495262326423]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "98"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.7979431523069, 5.755657157064416],
                  [-72.7979431523069, 5.75557175907453],
                  [-72.7978358639463, 5.75557175907453],
                  [-72.7978358639463, 5.755657157064416]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "99"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.83302026219653, 5.768540240906637],
                  [-72.83302026219653, 5.767963817304182],
                  [-72.83248382039355, 5.767963817304182],
                  [-72.83248382039355, 5.768540240906637]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "100"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.83233361668871, 5.768241354667382],
                  [-72.83233361668871, 5.76783572309076],
                  [-72.83205466695117, 5.76783572309076],
                  [-72.83205466695117, 5.768241354667382]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "101"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.83323483891772, 5.7679424682706255],
                  [-72.83323483891772, 5.767771675973185],
                  [-72.83291297383593, 5.767771675973185],
                  [-72.83291297383593, 5.7679424682706255]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "102"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.89090898471666, 5.7210731480394585],
                  [-72.89090898471666, 5.720283168231279],
                  [-72.88992193179918, 5.720283168231279],
                  [-72.88992193179918, 5.7210731480394585]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "103"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.89086606937242, 5.721478812922315],
                  [-72.89086606937242, 5.721137200408512],
                  [-72.89047983127428, 5.721137200408512],
                  [-72.89047983127428, 5.721478812922315]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "104"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.8900506778319, 5.72128665590841],
                  [-72.8900506778319, 5.721115849619607],
                  [-72.88979318576646, 5.721115849619607],
                  [-72.88979318576646, 5.72128665590841]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "105"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88347737955621, 5.5178310309139595],
                  [-72.88347737955621, 5.516976700531662],
                  [-72.88272636103204, 5.516976700531662],
                  [-72.88272636103204, 5.5178310309139595]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "106"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88375632929376, 5.5168058343075455],
                  [-72.88375632929376, 5.516570893169027],
                  [-72.88343446421197, 5.516570893169027],
                  [-72.88343446421197, 5.5168058343075455]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "107"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88120286631158, 5.517275716305431],
                  [-72.88120286631158, 5.5170621336252665],
                  [-72.8808810012298, 5.5170621336252665],
                  [-72.8808810012298, 5.517275716305431]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "108"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88210408854059, 5.5176601649359425],
                  [-72.88210408854059, 5.517446582394196],
                  [-72.88158910440973, 5.517446582394196],
                  [-72.88158910440973, 5.5176601649359425]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "109"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88218991922906, 5.516784476026068],
                  [-72.88218991922906, 5.516613609746586],
                  [-72.88210408854059, 5.516613609746586],
                  [-72.88210408854059, 5.516784476026068]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "110"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88397090601495, 5.5205862380120285],
                  [-72.88397090601495, 5.520329940217423],
                  [-72.88377778696588, 5.520329940217423],
                  [-72.88377778696588, 5.5205862380120285]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "111"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88476483988336, 5.519219315160467],
                  [-72.88476483988336, 5.51894165857116],
                  [-72.88450734781793, 5.51894165857116],
                  [-72.88450734781793, 5.519219315160467]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "112"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88495795893243, 5.517083491896743],
                  [-72.88495795893243, 5.516848550868196],
                  [-72.88478629755548, 5.516848550868196],
                  [-72.88478629755548, 5.517083491896743]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "113"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88115995096734, 5.515652486007554],
                  [-72.88115995096734, 5.515588411036246],
                  [-72.88109557795099, 5.515588411036246],
                  [-72.88109557795099, 5.515652486007554]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "114"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88257615732721, 5.515695202651243],
                  [-72.88257615732721, 5.515438902742995],
                  [-72.88240449595025, 5.515438902742995],
                  [-72.88240449595025, 5.515695202651243]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "115"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24522853486044, 5.512750582917047],
                  [-73.24522853486044, 5.512195263554199],
                  [-73.24432731263144, 5.512195263554199],
                  [-73.24432731263144, 5.512750582917047]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "116"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24370504013999, 5.512686507632454],
                  [-73.24370504013999, 5.512280697336139],
                  [-73.24323297135336, 5.512280697336139],
                  [-73.24323297135336, 5.512686507632454]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "117"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24447751633627, 5.513220468126033],
                  [-73.24447751633627, 5.513006883986235],
                  [-73.24406982056601, 5.513006883986235],
                  [-73.24406982056601, 5.513220468126033]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "118"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24524999253256, 5.513263184944779],
                  [-73.24524999253256, 5.513006883986235],
                  [-73.24507833115561, 5.513006883986235],
                  [-73.24507833115561, 5.513263184944779]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "119"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24477792374594, 5.51403208715636],
                  [-73.24477792374594, 5.513839861696843],
                  [-73.24469209305747, 5.513839861696843],
                  [-73.24469209305747, 5.51403208715636]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "120"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24507833115561, 5.512109829759969],
                  [-73.24507833115561, 5.5113622835360605],
                  [-73.24490666977866, 5.5113622835360605],
                  [-73.24490666977866, 5.512109829759969]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "121"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24314714066489, 5.512430206424948],
                  [-73.24314714066489, 5.512067112858237],
                  [-73.2423746644686, 5.512067112858237],
                  [-73.2423746644686, 5.512430206424948]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "122"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24306130997641, 5.511917603677991],
                  [-73.24306130997641, 5.511746735997334],
                  [-73.24284673325522, 5.511746735997334],
                  [-73.24284673325522, 5.511917603677991]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "123"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24424148194296, 5.512921450308795],
                  [-73.24424148194296, 5.512067112858237],
                  [-73.24374795548422, 5.512067112858237],
                  [-73.24374795548422, 5.512921450308795]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "124"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24636579148276, 5.513177751304221],
                  [-73.24636579148276, 5.513006883986235],
                  [-73.2457435189913, 5.513006883986235],
                  [-73.2457435189913, 5.513177751304221]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "125"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24563623063071, 5.512750582917047],
                  [-73.24563623063071, 5.512558357042543],
                  [-73.24522853486044, 5.512558357042543],
                  [-73.24522853486044, 5.512750582917047]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "126"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.2458508073519, 5.512152546658624],
                  [-73.2458508073519, 5.511490434384143],
                  [-73.24531436554892, 5.511490434384143],
                  [-73.24531436554892, 5.512152546658624]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "127"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.24524999253256, 5.511597226736417],
                  [-73.24524999253256, 5.511490434384143],
                  [-73.24460626236899, 5.511490434384143],
                  [-73.24460626236899, 5.511597226736417]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "128"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.97596238097888, 5.612356694835169],
                  [-72.97596238097888, 5.612249920769621],
                  [-72.97572634658557, 5.612249920769621],
                  [-72.97572634658557, 5.612356694835169]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "129"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.97600529632312, 5.6121004370449965],
                  [-72.97600529632312, 5.611950953282053],
                  [-72.97579071960193, 5.611950953282053],
                  [-72.97579071960193, 5.6121004370449965]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "130"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98576175795583, 5.5608528745237455],
                  [-72.98576175795583, 5.559977249627509],
                  [-72.98526823149709, 5.559977249627509],
                  [-72.98526823149709, 5.5608528745237455]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "131"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.9855042658904, 5.56147221817589],
                  [-72.9855042658904, 5.561301364819726],
                  [-72.98520385848073, 5.561301364819726],
                  [-72.98520385848073, 5.56147221817589]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "132"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98522531615285, 5.561087798054752],
                  [-72.98522531615285, 5.561045084692441],
                  [-72.98513948546437, 5.561045084692441],
                  [-72.98513948546437, 5.561087798054752]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "133"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98657714949636, 5.560916944586961],
                  [-72.98657714949636, 5.560810161144401],
                  [-72.98619091139821, 5.560810161144401],
                  [-72.98619091139821, 5.560916944586961]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "134"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98599779234914, 5.560916944586961],
                  [-72.98599779234914, 5.560788804453571],
                  [-72.98565446959523, 5.560788804453571],
                  [-72.98565446959523, 5.560916944586961]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "135"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98610508070973, 5.56145086150908],
                  [-72.98610508070973, 5.560981014643194],
                  [-72.9859548770049, 5.560981014643194],
                  [-72.9859548770049, 5.56145086150908]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "136"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98646986113576, 5.561173224770034],
                  [-72.98646986113576, 5.561023728010148],
                  [-72.98627674208669, 5.561023728010148],
                  [-72.98627674208669, 5.561173224770034]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "137"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98513948546437, 5.560148103368088],
                  [-72.98513948546437, 5.560019963067311],
                  [-72.98511802779225, 5.560019963067311],
                  [-72.98511802779225, 5.560148103368088]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "138"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98522531615285, 5.559827752563817],
                  [-72.98522531615285, 5.559763682382029],
                  [-72.98513948546437, 5.559763682382029],
                  [-72.98513948546437, 5.559827752563817]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "139"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.98490345107106, 5.5597423256532235],
                  [-72.98490345107106, 5.559656898730226],
                  [-72.9848390780547, 5.559656898730226],
                  [-72.9848390780547, 5.5597423256532235]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "140"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.9860621653655, 5.560297600350435],
                  [-72.9860621653655, 5.5599558929064505],
                  [-72.98589050398854, 5.5599558929064505],
                  [-72.98589050398854, 5.560297600350435]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "141"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.78389043839621, 5.517804792043246],
                  [-72.78389043839621, 5.517719359056611],
                  [-72.78382606537986, 5.517719359056611],
                  [-72.78382606537986, 5.517804792043246]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "142"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.78337545426535, 5.517527134791684],
                  [-72.78337545426535, 5.517463060022874],
                  [-72.78328962357688, 5.517463060022874],
                  [-72.78328962357688, 5.517527134791684]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "143"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.78311796219992, 5.5172921939388555],
                  [-72.78311796219992, 5.517142686074954],
                  [-72.78279609711814, 5.517142686074954],
                  [-72.78279609711814, 5.5172921939388555]]], null, false),
            {
              "original": "0,",
              "new": "24,",
              "system:index": "144"
            })]),
    to_no_urban = 
    /* color: #bcbcbc */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-74.21944379273087, -4.824889198982332],
                  [-74.14253949585587, -4.813941713623335],
                  [-74.18373822632462, -4.745515954670814]]]),
            {
              "original": "24,",
              "new": "27,",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-75.17949672732124, -12.069921900122413],
                  [-75.18636318239936, -12.073614937308207],
                  [-75.18636318239936, -12.0913240214938],
                  [-75.1777801135517, -12.09619171603699],
                  [-75.1730594256855, -12.092163285495127]]]),
            {
              "original": "24,",
              "new": "27,",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92310446359195, 5.707789845605319],
                  [-72.92310446359195, 5.706252550936881],
                  [-72.92138784982242, 5.706252550936881],
                  [-72.92138784982242, 5.707789845605319]]], null, false),
            {
              "original": "24,",
              "new": "27,",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92078703500309, 5.709668755712436],
                  [-72.92078703500309, 5.707960655869574],
                  [-72.91872709847965, 5.707960655869574],
                  [-72.91872709847965, 5.709668755712436]]], null, false),
            {
              "original": "24,",
              "new": "27,",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88188509659062, 5.520234689992824],
                  [-72.88188509659062, 5.515108710015381],
                  [-72.87896685318242, 5.515108710015381],
                  [-72.87896685318242, 5.520234689992824]]], null, false),
            {
              "original": "24,",
              "new": "27,",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88742117599736, 5.516304775972245],
                  [-72.88742117599736, 5.5145533928587565],
                  [-72.88025431350957, 5.5145533928587565],
                  [-72.88025431350957, 5.516304775972245]]], null, false),
            {
              "original": "24,",
              "new": "27,",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.88686327652226, 5.5198075266869555],
                  [-72.88686327652226, 5.517671705541671],
                  [-72.88536123947392, 5.517671705541671],
                  [-72.88536123947392, 5.5198075266869555]]], null, false),
            {
              "original": "24,",
              "new": "27,",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.8873976802578, 5.525913835438865],
                  [-72.8873976802578, 5.5218130942895725],
                  [-72.87924376485253, 5.5218130942895725],
                  [-72.87924376485253, 5.525913835438865]]], null, false),
            {
              "original": "24,",
              "new": "27,",
              "system:index": "7"
            })]),
    inclusion = /* color: #3614d6 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.16738394928453, -13.330389227101309],
                  [-72.16789893341539, -13.340912282207197],
                  [-72.16755561066148, -13.34625715057548],
                  [-72.15880088043687, -13.345589048497326],
                  [-72.15983084869859, -13.333228826783868]]]),
            {
              "value": 1,
              "type": "inclusion",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.16189078522203, -13.277600016134029],
                  [-72.17390708160875, -13.271585326192126],
                  [-72.17854193878648, -13.271251172383568],
                  [-72.17837027740953, -13.27576221001186],
                  [-72.16618231964586, -13.283948693877877]]]),
            {
              "value": 1,
              "type": "inclusion",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-76.3237420310458, -6.473597994969973],
                  [-76.32460027565135, -6.471721832052054],
                  [-76.32717516878479, -6.468694227028139],
                  [-76.32837676102088, -6.469077979381582],
                  [-76.32631677053199, -6.475303635276085]]]),
            {
              "value": 1,
              "type": "inclusion",
              "system:index": "2"
            })]),
    exclusion = 
    /* color: #ff0000 */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.13648490143296, -13.325545127154076],
                  [-72.13682822418687, -13.316357774620604],
                  [-72.13837317657945, -13.309174692473293],
                  [-72.14575461578843, -13.3075041777167],
                  [-72.15021781158921, -13.308172385001853],
                  [-72.14815787506578, -13.323206561423362],
                  [-72.14678458405015, -13.329387007486623],
                  [-72.14060477447984, -13.336068393113083]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.10369757843492, -13.281943866213252],
                  [-72.11056403351304, -13.282445074681968],
                  [-72.13356665802476, -13.291466650095856],
                  [-72.1078174514818, -13.294139645045616]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-76.3634815709856, -6.488607687549568],
                  [-76.36124997308521, -6.485196440535515],
                  [-76.36794476678638, -6.487243191515146]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-75.28320376684097, -12.04598510171554],
                  [-75.2713591318312, -12.049510589334758],
                  [-75.26432101537613, -12.048503311882264],
                  [-75.26054446508316, -12.043131101641473],
                  [-75.26380603124527, -12.039101873433797],
                  [-75.27376239110855, -12.03708723666726]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.96747362329486, 5.581108444046299],
                  [-72.96660458445244, 5.582133530518679],
                  [-72.96519911005024, 5.580980308317503],
                  [-72.96440517618184, 5.58384199958977],
                  [-72.96620762063985, 5.584696233082576],
                  [-72.96928679852623, 5.5836711503352605],
                  [-72.96909099248272, 5.580467760852887],
                  [-72.96717857929019, 5.57959216755106]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.96880399896625, 5.57760605738252],
                  [-72.96198046230741, 5.5763887612782455],
                  [-72.96150839044574, 5.580104713421011],
                  [-72.96312575938242, 5.5814314600592],
                  [-72.96438505753169, 5.583696522831937],
                  [-72.96500062688757, 5.582288370756875],
                  [-72.9651173034624, 5.581061739752561],
                  [-72.96501940278982, 5.580027310712498],
                  [-72.96696936697153, 5.580222183304064],
                  [-72.96723222379016, 5.579875143368131],
                  [-72.96904003335958, 5.580425053168936]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.49895714088859, 5.50447978440182],
                  [-73.49312065407219, 5.501404120136337],
                  [-73.49449394508781, 5.505419567532036],
                  [-73.49827049538078, 5.506615653003511]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91504327298959, 5.720102767110449],
                  [-72.91504327298959, 5.717860925871769],
                  [-72.9130262518104, 5.717860925871769],
                  [-72.9130262518104, 5.720102767110449]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.90727393083748, 5.507730713039325],
                  [-72.90727393083748, 5.5055521310744195],
                  [-72.90401236467537, 5.5055521310744195],
                  [-72.90401236467537, 5.507730713039325]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.9101063435572, 5.506278325950054],
                  [-72.9101063435572, 5.504612348153763],
                  [-72.9055144017237, 5.504612348153763],
                  [-72.9055144017237, 5.506278325950054]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91259543352302, 5.504996804982676],
                  [-72.91259543352302, 5.503245388526492],
                  [-72.90770308427986, 5.503245388526492],
                  [-72.90770308427986, 5.504996804982676]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91422621660408, 5.5034589761753825],
                  [-72.91422621660408, 5.501835708119922],
                  [-72.90894762926277, 5.501835708119922],
                  [-72.90894762926277, 5.5034589761753825]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91860358171638, 5.5026900602803295],
                  [-72.91860358171638, 5.501237660877503],
                  [-72.91229502611336, 5.501237660877503],
                  [-72.91229502611336, 5.5026900602803295]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92117850237068, 5.501622119888073],
                  [-72.92117850237068, 5.498503722971247],
                  [-72.91542784624275, 5.498503722971247],
                  [-72.91542784624275, 5.501622119888073]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91250960283455, 5.500297871139048],
                  [-72.91250960283455, 5.496538697344109],
                  [-72.90637270860847, 5.496538697344109],
                  [-72.90637270860847, 5.500297871139048]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.90521399431404, 5.503629846239269],
                  [-72.90521399431404, 5.500981354732416],
                  [-72.9016949360865, 5.500981354732416],
                  [-72.9016949360865, 5.503629846239269]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.90693060808357, 5.5024337547610624],
                  [-72.90693060808357, 5.499272644276919],
                  [-72.9037119572657, 5.499272644276919],
                  [-72.9037119572657, 5.5024337547610624]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.90847556047615, 5.501280378557619],
                  [-72.90847556047615, 5.499742540141324],
                  [-72.90598647051033, 5.499742540141324],
                  [-72.90598647051033, 5.501280378557619]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91383997850593, 5.499272644276919],
                  [-72.91383997850593, 5.495684336352889],
                  [-72.91147963457283, 5.495684336352889],
                  [-72.91147963457283, 5.499272644276919]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91886107378181, 5.4974357750654885],
                  [-72.91886107378181, 5.49465910154547],
                  [-72.91311041765388, 5.49465910154547],
                  [-72.91311041765388, 5.4974357750654885]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92280928545173, 5.495983362839251],
                  [-72.92280928545173, 5.4932066825475125],
                  [-72.91791693620857, 5.4932066825475125],
                  [-72.91791693620857, 5.495983362839251]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92302386217293, 5.499272644276919],
                  [-72.92302386217293, 5.498033826128771],
                  [-72.92083517961677, 5.498033826128771],
                  [-72.92083517961677, 5.499272644276919]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91534201555427, 5.500981354732416],
                  [-72.91534201555427, 5.500468742110995],
                  [-72.91465537004646, 5.500468742110995],
                  [-72.91465537004646, 5.500981354732416]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.92229430132087, 5.496282389175451],
                  [-72.92229430132087, 5.495769772507168],
                  [-72.91860358171638, 5.495769772507168],
                  [-72.91860358171638, 5.496282389175451]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91474120073494, 5.498161979849874],
                  [-72.91474120073494, 5.49747849301851],
                  [-72.91405455522712, 5.49747849301851],
                  [-72.91405455522712, 5.498161979849874]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91293875627693, 5.499699822350804],
                  [-72.91293875627693, 5.499272644276919],
                  [-72.91250960283455, 5.499272644276919],
                  [-72.91250960283455, 5.499699822350804]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.90967719011482, 5.501066790126388],
                  [-72.90967719011482, 5.500468742110995],
                  [-72.9086472218531, 5.500468742110995],
                  [-72.9086472218531, 5.501066790126388]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.9075314229029, 5.501493966912161],
                  [-72.9075314229029, 5.501323096234658],
                  [-72.90735976152595, 5.501323096234658],
                  [-72.90735976152595, 5.501493966912161]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91542784624275, 5.501408531579547],
                  [-72.91542784624275, 5.500725048476913],
                  [-72.91371123247322, 5.500725048476913],
                  [-72.91371123247322, 5.501408531579547]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91317220931114, 5.601580395249053],
                  [-72.91231390242638, 5.601922078436625],
                  [-72.91171308760704, 5.601537684836554],
                  [-72.91072603468956, 5.600598054971619],
                  [-72.91038271193565, 5.6000001079071575],
                  [-72.90995355849327, 5.598932343770236],
                  [-72.90956732039513, 5.598163552383733],
                  [-72.90999647383751, 5.597480181413553],
                  [-72.91089769606651, 5.598120841721498],
                  [-72.91209932570519, 5.599487581364903],
                  [-72.91317220931114, 5.600811607346351],
                  [-72.91342970137657, 5.601196001424168],
                  [-72.91467424635948, 5.6014095535803206],
                  [-72.91574712996544, 5.6010251596430205],
                  [-72.91583296065392, 5.599786555235845],
                  [-72.91454550032677, 5.597266627821544],
                  [-72.90982481246056, 5.596241569494121],
                  [-72.90905233626427, 5.597010363408159],
                  [-72.90879484419884, 5.598889633164182],
                  [-72.90982481246056, 5.601836657658473],
                  [-72.91171308760704, 5.603246098900601],
                  [-72.91321512465538, 5.603331519472628],
                  [-72.914588415671, 5.602776285531133],
                  [-72.91566129927696, 5.601751236867826]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.91591879134239, 5.600427213015644],
                  [-72.91291471724571, 5.600982449189926],
                  [-72.91351553206505, 5.601793947264714],
                  [-72.9162621140963, 5.602391892493194]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-72.75399975885416, 5.737790902499402],
                  [-72.75116734613444, 5.737107696783005],
                  [-72.74996571649577, 5.737961703800598],
                  [-72.74906449426676, 5.73898651053336],
                  [-72.75018029321696, 5.740908018191808],
                  [-72.7536993514445, 5.740950718288419]]]),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.02322535353788, 5.702599531258149],
                  [-73.02322535353788, 5.699610316350384],
                  [-73.02065043288358, 5.699610316350384],
                  [-73.02065043288358, 5.702599531258149]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.05232195693144, 5.711425344255962],
                  [-73.05232195693144, 5.707752934556891],
                  [-73.04811625319608, 5.707752934556891],
                  [-73.04811625319608, 5.711425344255962]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.31045946163516, 5.3841258305500475],
                  [-73.31045946163516, 5.381156366179042],
                  [-73.30741247219424, 5.381156366179042],
                  [-73.30741247219424, 5.3841258305500475]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.32827250817913, 5.339262192561791],
                  [-73.32827250817913, 5.335331098922373],
                  [-73.32318703988689, 5.335331098922373],
                  [-73.32318703988689, 5.339262192561791]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.30187413117775, 5.294500140435759],
                  [-73.30187413117775, 5.289628644919871],
                  [-73.29702469727883, 5.289628644919871],
                  [-73.29702469727883, 5.294500140435759]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.31130513039064, 5.25607631838628],
                  [-73.31130513039064, 5.252059225344847],
                  [-73.30763586845826, 5.252059225344847],
                  [-73.30763586845826, 5.25607631838628]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.70918311332434, 5.715362397848379],
                  [-73.70918311332434, 5.7122664939024625],
                  [-73.7057713434574, 5.7122664939024625],
                  [-73.7057713434574, 5.715362397848379]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-73.66088704783297, 5.746754684930696],
                  [-73.66088704783297, 5.741203702086897],
                  [-73.65427808482026, 5.741203702086897],
                  [-73.65427808482026, 5.746754684930696]]], null, false),
            {
              "value": 1,
              "type": "exclusion",
              "system:index": "39"
            })]),
    geometry = /* color: #d63000 */ee.Geometry.MultiPoint(
        [[-73.00173624272726, 5.745305557771326],
         [-73.051631546226, 5.559288008852648],
         [-73.18352016979993, 5.568445296024612],
         [-72.88410534259326, 5.518174937898103],
         [-72.92287665107214, 5.7038951326283245],
         [-72.85087328284173, 5.72419220679273],
         [-72.79880145919167, 5.754098641729838],
         [-72.83263402409838, 5.768775079984132],
         [-72.8907373233397, 5.721436111369238],
         [-72.9138350021262, 5.500343767932215],
         [-72.91179891829552, 5.600512633999871],
         [-73.24512080350377, 5.51298116538595],
         [-73.2828870335772, 5.559029376358179],
         [-72.97478070136306, 5.612141595229155],
         [-72.98606214205026, 5.560281733389018],
         [-72.78367586167502, 5.517911583259236]]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// training for classification of urban areas 
// date: 20/02/2023 

var param = {  
  regionId:30301,
  country: "COLOMBIA",
  yearsPreview: [1985,1986,2021 ,2022],
  samples: [
    900,              // no-Urban 
    600               // Urban 
  ],
  version_out: '1',
  frecuency_ref: 7,
  remapStablePixel : {
    polygons: [ to_urban, to_no_urban],  // para REMAP pixeles estables OJO; Urbana:24, No urbana:27, No Observado:0 
  },
  classificationArea : {   // Para Incluir o exluir el Area de clasificacion con el Buffer 
        versionClassArea: '1',   // Area de clasificacion con el Buffer
        inclusion: inclusion,
        exclusion: exclusion,
        useshp: false,
        shpVersion: '1'
  },
    exportassets: {
    geometries : true
  }
};

/**
 * Años a procesar
 * //COMENTAR AÑOS SIN MOSAICO 
 */
var years = [
    1985, 1986, 1987, 1988, 1989, 
    1990, 1991, 1992, 1993, 
    //1994,1995, 
    1996, 1997, 1998, 1999, 
    2000, 2001, 2002, 2003, 2004, 
    2005, 2006, 2007, 2008, 2009, 
    2010, 2011, 2012, 2013, 2014, 
    2015, 2016, 2017, 2018, 2019, 
    2020, 2021, 2022
  ]
  
  
// featureSpace
var featureSpace = [
  "blue_median",
  "green_median",
  "red_median",
  "red_wet",
  "nir_median",
  "nir_wet",
  "swir1_median",
  "swir2_median",
  "ndvi_median",
  "ndvi_wet",
  "wefi_wet",
  "gcvi_wet",
  "sefi_median",
  "soil_median",
  "snow_median",
  "evi2_median",
  "ndwi_mcfeeters_median",
  "mndwi_median",
  "slope",
  "slppost",
  "elevation",
  "shade_mask2",
  "nuaci_median2"
];

var SampleUrban = function(param) {

/**
 * Input data
 * Assets paths, years and another necessary input data
 */
this.inputs = {
  mosaics: [
            'projects/mapbiomas-raisg/MOSAICOS/mosaics-pathrow-2'
          ],
  _regions: 'projects/mapbiomas-raisg/DATOS_AUXILIARES/VECTORES/COLOMBIA/clasificacion-regiones-urbana-5',
  _samples: 'projects/mapbiomas-raisg/MUESTRAS/'+param.country+'/COLECCION5/TRANSVERSALES/URBANA/',
  _clasificacionArea: 'projects/mapbiomas-raisg/MUESTRAS/'+param.country+'/COLECCION5/TRANSVERSALES/URBANA/STEP1_REGIONS/URBANA-REF-ACCUM-'+param.country+ '-'+ param.regionId + '-' + param.classificationArea.versionClassArea,
  shpIncluExclu: 'projects/mapbiomas-raisg/MUESTRAS/'+param.country+'/COLECCION5/TRANSVERSALES/URBANA/STEP3_GEOMETRY/urban-'+ param.regionId + '-' + param.country + '-' + param.classificationArea.shpVersion,
  references: {
      coleccion3: 'projects/mapbiomas-raisg/public/collection3/mapbiomas_raisg_panamazonia_collection3_integration_v2',
      urbana_all_ref: 'projects/mapbiomas-raisg/MOSAICOS/Urbana_all_ref_v2',
      peru: '',
      colombia: '',
      ecuador: '',
      bolivia: '',
      guyanas: '',
      venezuela: '',
  },
  palette: require('users/mapbiomas/modules:Palettes.js').get('classification2')
};


/**
 * Initialize the app
 */
this.init = function(param) {
  var _this = this;
  var assetMosaics = _this.inputs.mosaics;
  var assetclassArea = _this.inputs._clasificacionArea;
  var assetcoleccion3 = _this.inputs.references.coleccion3;
  var urbana_all_ref = _this.inputs.references.urbana_all_ref;

  var regionAsset = _this.inputs._regions;
  var samplesAsset = _this.inputs._samples;
  var palette = _this.inputs.palette;

    // Create mask based on region vector
  var regionId = param.regionId;
  var yearsPreview = param.yearsPreview;
  var nSamples = param.samples;
  
  
  var region = _this._getRegion(regionAsset, regionId);
  var regionMask = region.rasterMask;
  var regionLayer = region.vector;
  Map.addLayer(regionLayer)
  
  var country = param.country.split(' ').join('-').toUpperCase();
  var version_out = param.version_out
  
  // Get mosaics
  var mosaics = _this.getMosaic(assetMosaics, regionId);
  print(mosaics);

  // Get stable pixels from collection 3
  // var collection3 = ee.Image(assetcoleccion3)
  //                     .updateMask(regionMask);
                      
  var urbana_all_ref_raster = ee.Image(urbana_all_ref)
  
  var classArea = ee.Image(assetclassArea).updateMask(regionMask)
  classArea = _this.inclus_exclu(classArea, param.classificationArea.inclusion, param.classificationArea.exclusion);
  
  if(param.classificationArea.useshp){
  var inclusionSHP = ee.FeatureCollection(_this.inputs.shpIncluExclu).filter(ee.Filter.eq('type', 'inclusion'));
  var exclusionSHP = ee.FeatureCollection(_this.inputs.shpIncluExclu).filter(ee.Filter.eq('type', 'exclusion'));
  classArea = _this.inclus_exclu(classArea, inclusionSHP, exclusionSHP);
  Map.addLayer(inclusionSHP,{},'inclusionSHP',false)
  Map.addLayer(exclusionSHP,{},'exclusionSHP',false)
 }
 var GeometriesIE = ee.FeatureCollection([param.classificationArea.inclusion, param.classificationArea.exclusion]).flatten()
    // print('GeometriesIE',GeometriesIE)
    
  var urban = urbana_all_ref_raster.gte(param.frecuency_ref)
                                            .rename("reference")
                                            .updateMask(regionMask);
                                            
  var notUrban = ee.Image(0).where(classArea.eq(1),27)
                            .where(urbana_all_ref_raster.gte(1), 0).selfMask()
  
  var stableReference = ee.Image(0)
                      .where(notUrban, 27)
                      .where(urban.eq(1), 24)
                      .updateMask(regionMask)
                      .rename("reference")
                      // .selfMask()
                      .updateMask(classArea);
                      
  // var classes = ee.List.sequence(1, 34).getInfo();
  // var stablePixels = _this.getStablePixels(collection3, classes);
  // print(stablePixels);
  
  // // Urban sampling points
  // var colorId, stableReference;    
  // var nodata = stablePixels.neq(24);  // revisar
  // var urban  = stablePixels.eq(24);  // revisar
  // stableReference = ee.Image(0)
  
  
  // stableReference = stableReference
  //     .where(urban.eq(1), 24)
  //     .where(nodata.eq(1), 27)
  //     .updateMask(regionMask)
  //     .rename("reference");
  
 // Exclusión de clases con areas delimitadas con geometrías
  var polygons = param.remapStablePixel.polygons;
  stableReference = _this.remapWithPolygons(stableReference, polygons);
  
  stableReference = stableReference.updateMask(classArea);
  
  var points = stableReference
    .addBands(ee.Image.pixelLonLat())
    .stratifiedSample({
        numPoints: 0,
        classBand: 'reference',
        region: regionLayer.geometry().bounds(),
        scale: 30,
        seed: 1,
        geometries: true,
        dropNulls: true,
        classValues: [24, 27], 
        classPoints: [ nSamples[1], nSamples[0] ]
  });
  
  // print(points.limit(10));
  
  //iterate by years
  Map.setOptions('SATELLITE');
  
  // Terrain
    var dem = ee.Image('JAXA/ALOS/AW3D30_V1_1').select("AVE");  
    var slope = ee.Terrain.slope(dem).rename('slope');
    var slppost = ee.Image('projects/mapbiomas-raisg/MOSAICOS/slppost2_30_v2').rename('slppost')
    var shadeMask2 = ee.Image("projects/mapbiomas-raisg/MOSAICOS/shademask2_v2").rename('shade_mask2')
    
    
  var SamplesList = ee.List([]);
  years.forEach(function(year){
        
      var mosaic = mosaics
          .filter(ee.Filter.eq('year', Number(year)))
          .filterBounds(regionLayer)
          .median()
          .addBands(dem.rename('elevation'))
          .addBands(slope)
          .addBands(slppost)
          .addBands(shadeMask2)
          .updateMask(regionMask);
      
      mosaic = _this.newIndex(mosaic, urbana_all_ref_raster, 1)
      
      var mosaicSel = mosaic.updateMask(mosaic.select('blue_median')).select(featureSpace).updateMask(classArea);
      print('MOSAICO'+year,mosaicSel.bandNames())
      var trainingSamples = _this.getSamples(stableReference, mosaicSel, points);
      var training = trainingSamples.training;
      
      SamplesList = SamplesList.add(training.map(function(feature){
                  return feature.set('year', year);
                }));
                                  
      // Export samples to asset
      // var fileName = 'Urban' + '-' + regionId + '-' + country + '-' + year + '-' + version_out;
      // var assetId = samplesAsset + fileName;
      
      // Export.table.toAsset(training, fileName, assetId);

      if(yearsPreview.indexOf(year) > -1) {
        
          Map.addLayer(
            mosaic, 
            {
              bands: ['swir1_median', 'nir_median', 'red_median'],
              //min: 200,
             // max: 5000
               gain: [0.08, 0.06, 0.2]
            }, 
            'MOSAICO ' + year,
            false
            
          
          );
          Map.addLayer(
            mosaic, 
            {
              bands: ['swir2_median', 'swir1_median', 'red_median'],
              // min: 200,
              // max: 5000
              gain: [0.1, 0.06, 0.1]
            }, 
            'MOSAICO beta ' + year,
            false
          );
          Map.addLayer(
            mosaic.select('nuaci_median2').updateMask(regionMask), 
            {
              bands: ['nuaci_median2'],
              min:0,"max":200,
              palette:["504eff","1ffff4","32ff23","fff71d","ffc31d","ff0000"]
            }, 
            'nuaci_median2 ' + year,
            false
          );
      }  

  });
  
  SamplesList = ee.FeatureCollection(SamplesList).flatten()
  // print(SamplesList.limit(2))
  // print('SamplesList',SamplesList.size())
  
  // Export samples to asset
  var fileName = 'urban' + '-' + regionId + '-' + country  + '-' + version_out;
  var assetId = samplesAsset + fileName;
  Export.table.toAsset(SamplesList, fileName, assetId);
  
  var assetIdG = 'projects/mapbiomas-raisg/MUESTRAS/'+country+'/COLECCION5/TRANSVERSALES/URBANA/STEP2_GEOMETRY/' + fileName;
    
    if(param.exportassets.geometries){
      Export.table.toAsset(GeometriesIE, 'geom-'+fileName, assetIdG);
    }
  
  Map.addLayer(classArea,
       {
        palette: 'fcff00'
       },'classArea',false
      );
  Map.addLayer(stableReference,
       {
        min: 0,
        max: 34,
        palette: _this.inputs.palette
       },'stableReference',false
      );

  var pts = ee.FeatureCollection(points);

  // Layers
    var eeColors = ee.List(_this.inputs.palette);
    
    var trainingPointsColor = pts.map(
        function (feature) {
    
            var c = feature.get("reference");
    
            return feature.set({
                "style": {
                    "color": eeColors.get(c),
                    "pointSize": 4
                }
            });
        }
    );
    
    Map.addLayer(trainingPointsColor.style({
        "styleProperty": "style"
    }), {}, 'points',false);
};



/**
 * Get mosaics
 * Get mosaics from collection2 asset. Then compute
 * Urbans indexes remaining.
 */
this.getMosaic = function(paths, regionId) {

    // Additional variables
   // var shademask2_v1 = shademask2_v1.rename('shade_mask2')
    
    var mosaicRegion = regionId.toString().slice(0, 3);
    
    var mosaics = paths.map( function(path) {
            
            var mosaic = ee.ImageCollection(path)
              .filter(ee.Filter.eq('region_code', Number(mosaicRegion)))
              .map(function(image) {
                var index = ee.String(image.get('system:index')).slice(0, -3);
                return image
                  .set('index', index);
              });
            
            if(mosaic.size().getInfo() !== 0) return mosaic;
            
          });
          
    mosaics = mosaics.filter( 
            function(m) { return m !== undefined }
          );
    
    var joinedMosaics = mosaics[0];
    
    if(mosaics.length === 2) {
        
            var join = ee.Join.inner(),
                joiner = ee.Filter.equals({
                  leftField: 'index',
                  rightField: 'index'
                });
                
            var joinedCollection = join.apply(mosaics[0], mosaics[1], joiner);
            
            joinedMosaics = ee.ImageCollection(
              joinedCollection.map( function(feature) {
                var primary = feature.get('primary'),
                    secondary = feature.get('secondary');
                    
                return ee.Image.cat(primary, secondary);
              })
            );
          }
          
    return joinedMosaics;
    
};


/**
 * Get new indexes
 * Get new index from images. Then compute
 * Urbans indexes .
 */
this.newIndex = function(image, urbana_all_ref, threshold) {

      var uNTL = urbana_all_ref.gte(threshold)
      var ndvi = image.expression(
          'float(nir - red)/(nir + red)', {
              'nir': image.select('nir_median'),
              'red': image.select('red_median'),
          });

      var ndwi = image.expression(
          'float(swir1 - green)/(swir1 + green)', {
              'swir1': image.select('swir1_median'),
              'green': image.select('green_median'),
          });

      var ndbi = image.expression(
        'float(swir1 - nir)/(swir1 + nir)', {
          'nir': image.select('nir_median'),
          'swir1': image.select('swir1_median')
         });
      var nuaci = image.expression(
        'float(uNTL) * (1.0 - sqrt(pow((NDWI + 0.05), 2) + (pow((NDVI + 0.1), 2) + (pow((NDBI + 0.1), 2)))))', 
        {
          'uNTL': uNTL,
          'NDVI': ndvi,
          'NDBI': ndbi,
          'NDWI': ndwi
        }).multiply(100).add(100).byte().rename(["nuaci_median2"]);
     
     nuaci = ee.Image(1).where(nuaci, nuaci).rename(["nuaci_median2"]);


  return image.addBands(nuaci.select([0], ['nuaci_median2']));
    
};



/**
 * Get stable pixels
 * Get stable pixels from mapbiomas collection 2
 * Then cross over reference datasets 
 */
this.getStablePixels = function (image, classes) {
  
  var bandNames = image.bandNames(),
      images = [];

  classes.forEach(function(classId){
      var previousBand = image
        .select([bandNames.get(0)]).eq(classId);
          
      var singleClass = ee.Image(
        bandNames.slice(1)
          .iterate(
            function( bandName, previousBand ) {
              bandName = ee.String( bandName );
              return image
                .select(bandName).eq(classId)
                .multiply(previousBand);
            },
            previousBand
          )
      );
      
      singleClass = singleClass
        .updateMask(singleClass.eq(1))
        .multiply(classId);
      
      images.push(singleClass);
  });
  
  
  // blend all images
  var allStable = ee.Image();
  
  for(var i = 0; i < classes.length; i++) 
    allStable = allStable.blend(images[i]);

  return allStable;
};


/**
 * Get reference raster data
 */
this.getRasterReference = function(inputs) {
  
  var setVersion = function(item) { return item.set('version', 1) };
  
  // Colombia
  var colombia = ee.FeatureCollection(inputs.colombia)
    .reduceToImage(['ID'], ee.Reducer.first());
  
  var colombiaMask = colombia
    .where(colombia.eq(0), 6).where(colombia.eq(1), 27)
    .rename('reference')
    .uint8();
  
  
  // Ecuador
  var ecuador = ee.FeatureCollection(inputs.ecuador)
    .reduceToImage(['CODIGO'], ee.Reducer.first());
  
  var ecuadorMask = ecuador
    .where(ecuador.eq(1), 6).where(ecuador.eq(2), 27)
    .rename('reference')
    .uint8();
  
  
  // Peru
  var peru =  ee.FeatureCollection(inputs.peru)
    .reduceToImage(['CODIGO'], ee.Reducer.first());
    
  var peruMask = peru
    .where(peru.eq(1), 6).where(peru.eq(2), 27)
    .rename('reference')
    .uint8();

  
  // Bolivia
  var bolivia = ee.FeatureCollection(inputs.bolivia)
    .reduceToImage(['CODIGO'], ee.Reducer.first());
  
  var boliviaMask = bolivia
    .where(bolivia.eq(1), 6).where(bolivia.eq(2), 27)
    .rename('reference')
    .uint8();

  // guyanas
  var guyanas = ee.Image(inputs.guyanas);
  
  var guyanasMask = guyanas.where(guyanas.gt(20), 6)
    .rename('reference')
    .uint8();
    

  // Join all
  var flooded = ee.ImageCollection([
    colombiaMask, boliviaMask, ecuadorMask, peruMask, guyanasMask
  ]);
  
  return flooded.mosaic();
  
};


/**
 * Función para generar region de interés (ROI) con base en
 * las región de clasificación o una grilla millonésima contenida en ella
 */
this._getRegion = function(regionPath, regionIds){
  
    var setVersion = function(item) { return item.set('version', 1) };
    
    var region = ee.FeatureCollection(regionPath)
      .filter(ee.Filter.eq('id_regionC', regionIds));
    
    var regionMask = region
      .map(setVersion)
      .reduceToImage(['version'], ee.Reducer.first());
      
    return {
      vector: region,
      rasterMask: regionMask
    };
  
};

/**
 * Inclu exclu
 */
this.inclus_exclu = function(capa, inclu, exclu){
         var inclusionRegions=  ee.FeatureCollection(inclu).reduceToImage(['value'], ee.Reducer.first())
                       .eq(1)
         var exclusionRegions=  ee.FeatureCollection(exclu).reduceToImage(['value'], ee.Reducer.first())
                       .eq(1)
         capa = capa.where(exclusionRegions.eq(1), 0).selfMask()        
         capa = ee.Image(0).where(capa.eq(1), 1)
                           .where(inclusionRegions.eq(1), 1).selfMask()
                           
  return capa
};

/**
 * Función para delimitar áreas de excusión en las que no se tomarán 
 * muestra de entrenamiento. 
 * Estas áreas pueden incluirse como polígonos desde las herramientas de 
 * dibujo o como una colección de tipo ee.FeatureCollection() ubicada en la ruta
 * establecida en el parámetro exclusion.shape.
 */
this.excludeAreas = function(image, shapePath, shapeName) {
  var exclusionRegions;
  
  var shapes = shapePath !== '' && shapeName !== '';
    
  if(shapes)
    exclusionRegions = ee.FeatureCollection(shapePath + shapeName);
  
  else exclusionRegions = null;

  
  // Excluir todas las areas definidas
  if(exclusionRegions !== null) {
    var setVersion = function(item) { return item.set('version', 1) };
  
    exclusionRegions = exclusionRegions
      .map(setVersion)
      .reduceToImage(['version'], ee.Reducer.first())
      .eq(1);
    
    return image.where(exclusionRegions.eq(1), 0)
      .selfMask();
  } 
  else return image;
}
    
/**
 * Función para remapear, de manera interactiva, zonas delimitadas por polígonos
 * Estos polígonos se dibujan con las herramientas de dibujo de GEE
 * y se definen como ee.FeatureCollection()
 */
this.remapWithPolygons = function(stablePixels, polygons) {
  
  if(polygons.length > 0) {
    polygons.forEach(function( polygon ) {
      
      var excluded = polygon.map(function( layer ){
        
        var area = stablePixels.clip( layer );
        var from = ee.String(layer.get('original')).split(',');
        var to = ee.String(layer.get('new')).split(',');
        
        from = from.map( function( item ){
          return ee.Number.parse( item );
        });
        to = to.map(function(item){
          return ee.Number.parse( item );
        });
        
        return area.remap(from, to);
      });
        
      excluded = ee.ImageCollection( excluded ).mosaic();
      stablePixels = excluded.unmask( stablePixels ).rename('reference');
      stablePixels = stablePixels.mask( stablePixels.neq(0) );
    });
  } else stablePixels = stablePixels;
  
  return stablePixels;
  
}



/**
 * Get sample points
 */
this.getSamples = function(reference, mosaic, points) {
  
    var training = reference
      .addBands(mosaic)
      .sampleRegions({
          collection: points,
          properties: ['reference'],
          scale: 30,
          geometries: true,
          tileScale: 4
    });
    
    return {
      points: points, 
      training: training 
    };
    
};

return this.init(param);

};


var Samples = new SampleUrban(param);